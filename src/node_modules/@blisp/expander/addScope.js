module.exports = function addScope(syntax, scope) {
  const scopes = new Set(syntax.scopes)
  scopes.add(scope)
  switch (syntax.type) {
    case "ArrayExpression":
      return {
        ...syntax,
        elements: syntax.elements.map((element) => addScope(element, scope)),
        scopes,
      }
    default:
      return { ...syntax, scopes }
  }
}
