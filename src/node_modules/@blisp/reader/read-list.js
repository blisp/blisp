const peekChar = require("./peek-char")
const readChar = require("./read-char")
const read = require("./read")

module.exports = function readList(stream, char) {
  if (char !== "(") {
    // throw error
    return undefined
  }
  char = readChar(stream)
  char = peekChar(stream)
  const list = []
  while (char !== ")" && char !== stream.eof()) {
    list.push(read(stream))
    char = peekChar(stream)
  }
  if (char !== ")") {
    // throw error
  }
  readChar(stream)
  return list
}
