const stringReadTable = require("./string-read-table")
const peekChar = require("./peek-char")
const readChar = require("./read-char")
module.exports = function readString(stream, char) {
  if (char !== '"') {
    // throw error
  }
  readChar(stream)
  char = peekChar(stream)
  let stringContent = ""
  while (char !== '"' && !stream.eof()) {
    const reader = stringReadTable[char]
    if (reader) {
      return reader(stream, char, stringContent)
    }
    stringContent += readChar(stream)
    char = peekChar(stream)
  }
  if (char !== '"') {
    // throw error
  }
  readChar(stream)
  return stringContent
}
