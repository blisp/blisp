const {
  blockStatement,
  expressionStatement,
  isExpression,
} = require("@babel/types")
const expand = require("@blisp/expander/expand")
// arcgs = (block ...args)
module.exports = function block(args, env) {
  return blockStatement(
    args.elements.slice(1).map((arg) => {
      const expanded = expand(arg, env)
      return isExpression(expanded) ? expressionStatement(expanded) : expanded
    })
  )
}
